//
// Created by Abdelrhman on 4/24/2023.
//

#ifndef DATABASE_H
#define DATABASE_H

#pragma once
#include <windows.h>
#include <sql.h>
#include <sqlext.h>
#include <string>
using namespace std;
class DatabaseConnection
{
private:
    SQLHANDLE sqlEnvHandle;
    SQLHANDLE sqlConnectionHandle;
    SQLHANDLE sqlStatementHandle;
    SQLRETURN retCode;

    void showError(); // إضافة دالة لعرض أخطاء SQL

public:
    DatabaseConnection();
    bool connect(const string &dbPath);
    bool executeQuery(const string &query);
    ~DatabaseConnection();
    bool checkLogin(const string& email, const string& password,
               string& name, string& id, string& phone);

    bool Login(const string &email, const string &password, string &name , string &pos);
    
};


#endif //DATABASE_H